<div class="problem">
  <div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 1" role="group"><div>
        <p><b>Câu 1:</b> Trong React Query, <b><code>queryKey</code></b> có vai trò chính là gì?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_2_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_2_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_2_1" id="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_2_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_2_1">
                <div>
                    
            <div>Xác định thời gian cache của query</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_2_1" id="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_2_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_2_1">
                <div>
                    
            <div>Là unique identifier để React Query lưu và quản lý cache</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_2_1" id="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_2_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_2_1">
                <div>
                    
            <div>Định nghĩa function để fetch data</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_2_1" id="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_2_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_2_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_2_1">
                <div>
                    
            <div>Quyết định số lần retry khi query fails</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_2_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_2_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_1"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_1">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p><code>queryKey</code> là một mảng duy nhất định danh cho một query. React Query sử dụng key này để cache, refetch, và chia sẻ dữ liệu của bạn một cách tự động trên toàn bộ ứng dụng.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 2" role="group"><div>
        <p><b>Câu 2:</b> <b><code>staleTime</code></b> trong <code>useQuery</code> dùng để?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_3_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_3_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_3_1" id="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_3_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_3_1">
                <div>
                    
            <div>Xác định thời gian tồn tại của cache trong memory</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_3_1" id="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_3_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_3_1">
                <div>
                    
            <div>Thời gian data được coi là "fresh", không cần refetch</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_3_1" id="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_3_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_3_1">
                <div>
                    
            <div>Delay time giữa các lần retry</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_3_1" id="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_3_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_3_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_3_1">
                <div>
                    
            <div>Thời gian timeout của API request</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_3_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_3_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_2"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_2">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p><code>staleTime</code> là khoảng thời gian mà dữ liệu được coi là "tươi" (fresh). Trong khoảng thời gian này, React Query sẽ không tự động refetch dữ liệu khi component mount lại hay khi cửa sổ được focus. Mặc định <code>staleTime</code> là 0.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 3" role="group"><div>
        <p><b>Câu 3:</b> <b><code>useMutation</code></b> được sử dụng chủ yếu cho mục đích nào?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_4_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_4_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_4_1" id="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_4_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_4_1">
                <div>
                    
            <div>Fetch và cache data từ server</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_4_1" id="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_4_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_4_1">
                <div>
                    
            <div>Thực hiện các thao tác thay đổi data (POST, PUT, DELETE)</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_4_1" id="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_4_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_4_1">
                <div>
                    
            <div>Quản lý local state trong component</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_4_1" id="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_4_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_4_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_4_1">
                <div>
                    
            <div>Tạo real-time connection với server</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_4_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_4_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_3"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_3">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p><code>useMutation</code> được thiết kế để xử lý các side effects làm thay đổi dữ liệu trên server, chẳng hạn như tạo, cập nhật, hoặc xóa dữ liệu, tương ứng với các phương thức HTTP như POST, PUT, PATCH, DELETE.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 4" role="group"><div>
        <p><b>Câu 4:</b> Ưu điểm chính của <b><code>axios</code></b> so với <b><code>fetch API</code></b> là?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_5_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_5_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_5_1" id="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_5_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_5_1">
                <div>
                    
            <div>Axios nhanh hơn fetch về performance</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_5_1" id="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_5_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_5_1">
                <div>
                    
            <div>Axios tự động parse JSON và throw error cho HTTP errors</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_5_1" id="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_5_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_5_1">
                <div>
                    
            <div>Axios không cần cài đặt thư viện bổ sung</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_5_1" id="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_5_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_5_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_5_1">
                <div>
                    
            <div>Axios hỗ trợ TypeScript tốt hơn</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_5_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_5_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_4"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_4">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p><code>fetch</code> API mặc định không coi các HTTP status code như 404 hay 500 là lỗi (promise không reject). <code>axios</code> cung cấp sự tiện lợi bằng cách tự động reject promise khi gặp các lỗi này và cũng tự động chuyển đổi response body thành JSON, giúp code gọn gàng hơn.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 5" role="group"><div>
        <p><b>Câu 5:</b> Cho đoạn code sau:</p>
        <pre style="background-color: #1e1e1e; color: #d4d4d4; padding: 1em; border-radius: 5px; font-family: monospace;"><span style="color: #569cd6;">const</span> { <span style="color: #9cdcfe;">data</span>, <span style="color: #9cdcfe;">isLoading</span>, <span style="color: #9cdcfe;">isFetching</span> } = <span style="color: #dcdcaa;">useQuery</span>({
  <span style="color: #9cdcfe;">queryKey</span>: [<span style="color: #ce9178;">'user'</span>, <span style="color: #9cdcfe;">userId</span>],
  <span style="color: #9cdcfe;">queryFn</span>: <span style="color: #4ec9b0;">fetchUser</span>,
  <span style="color: #9cdcfe;">staleTime</span>: <span style="color: #b5cea8;">60000</span> <span style="color: #6a9955;">// 1 phút</span>
});
</pre>
        <p>Sau lần fetch đầu tiên thành công, user chuyển tab khác 30 giây rồi quay lại. Điều gì xảy ra?</p>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_6_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_6_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_6_1" id="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_6_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_6_1">
                <div>
                    
            <div><code>isLoading = true</code>, component show loading state</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_6_1" id="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_1" class="field-input input-radio" value="choice_1"><label id="ab9685dd969946ad880101e3c36dcc8c_6_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_1" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_6_1">
                <div>
                    
            <div><code>isFetching = true</code>, UI vẫn hiện data cũ trong khi refetch background</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_6_1" id="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_2" class="field-input input-radio submitted" value="choice_2" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_6_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_2" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_6_1">
                <div>
                    
            <div>Không có gì xảy ra vì data vẫn fresh (chưa hết 1 phút)</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_6_1" id="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_6_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_6_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_6_1">
                <div>
                    
            <div>Query bị cancel và phải fetch lại từ đầu</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_6_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_6_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_5"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_5">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>Vì <code>staleTime</code> được set là 60 giây, dữ liệu được coi là "fresh" trong khoảng thời gian đó. Khi người dùng quay lại tab sau 30 giây, thời gian stale chưa hết, do đó React Query sẽ không trigger một background refetch.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 6" role="group"><div>
        <p><b>Câu 6:</b> Sự khác biệt quan trọng giữa <b><code>isLoading</code></b> và <b><code>isFetching</code></b> là gì?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_7_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_7_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_7_1" id="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_7_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_7_1">
                <div>
                    
            <div><code>isLoading</code> là khi đang fetch, <code>isFetching</code> là khi có error</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_7_1" id="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_7_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_7_1">
                <div>
                    
            <div><code>isLoading = true</code> chỉ khi fetch lần đầu (no cache), <code>isFetching = true</code> bất kỳ khi nào đang fetch</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_7_1" id="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_7_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_7_1">
                <div>
                    
            <div>Cả hai hoàn toàn giống nhau</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_7_1" id="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_7_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_7_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_7_1">
                <div>
                    
            <div><code>isLoading</code> dùng cho queries, <code>isFetching</code> dùng cho mutations</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_7_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_7_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_6"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_6">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p><code>isLoading</code> là một trạng thái con của <code>isFetching</code>. Nó chỉ đúng (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;" role="application" aria-label="t r u e" haslabel="true"><svg xmlns:xlink="http://www.w3.org/1999/xlink" class="mjx-svg-math" data-semantic-complexity="14" width="4.301ex" height="1.841ex" viewBox="0 -692.2 1852 792.8" role="img" focusable="false" style="vertical-align: -0.234ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g class="mjx-svg-mrow"><g class="mjx-svg-mstyle" data-semantic-type="infixop" data-semantic-role="implicit" data-semantic-id="7" data-semantic-children="0,1,2,3" data-semantic-content="4,5,6" data-semantic-complexity="14"><g class="mjx-svg-mrow"><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="0" data-semantic-parent="7" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-74"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="4" data-semantic-parent="7" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="1" data-semantic-parent="7" data-semantic-complexity="1" transform="translate(361,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-72"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="5" data-semantic-parent="7" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="2" data-semantic-parent="7" data-semantic-complexity="1" transform="translate(813,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-75"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="6" data-semantic-parent="7" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="3" data-semantic-parent="7" data-semantic-complexity="1" transform="translate(1385,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-65"></use></g></g></g></g></g></svg></span><script type="math/asciimath" id="MathJax-Element-1">true</script>) trong lần fetch đầu tiên của một query khi chưa có dữ liệu nào được cache. <code>isFetching</code> sẽ đúng (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;" role="application" aria-label="t r u e" haslabel="true"><svg xmlns:xlink="http://www.w3.org/1999/xlink" class="mjx-svg-math" data-semantic-complexity="14" width="4.301ex" height="1.841ex" viewBox="0 -692.2 1852 792.8" role="img" focusable="false" style="vertical-align: -0.234ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g class="mjx-svg-mrow"><g class="mjx-svg-mstyle" data-semantic-type="infixop" data-semantic-role="implicit" data-semantic-id="7" data-semantic-children="0,1,2,3" data-semantic-content="4,5,6" data-semantic-complexity="14"><g class="mjx-svg-mrow"><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="0" data-semantic-parent="7" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-74"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="4" data-semantic-parent="7" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="1" data-semantic-parent="7" data-semantic-complexity="1" transform="translate(361,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-72"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="5" data-semantic-parent="7" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="2" data-semantic-parent="7" data-semantic-complexity="1" transform="translate(813,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-75"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="6" data-semantic-parent="7" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="3" data-semantic-parent="7" data-semantic-complexity="1" transform="translate(1385,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-65"></use></g></g></g></g></g></svg></span><script type="math/asciimath" id="MathJax-Element-2">true</script>) cho bất kỳ request nào đang diễn ra, bao gồm cả lần fetch đầu tiên và các lần refetch ngầm sau đó.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 7" role="group"><div>
        <p><b>Câu 7:</b> Mặc định, <b><code>useQuery</code></b> retry bao nhiêu lần khi failed và delay như thế nào?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_8_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_8_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_8_1" id="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_8_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_8_1">
                <div>
                    
            <div>Retry 3 lần, mỗi lần delay 1 giây</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_8_1" id="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_1" class="field-input input-radio" value="choice_1"><label id="ab9685dd969946ad880101e3c36dcc8c_8_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_1" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_8_1">
                <div>
                    
            <div>Retry 5 lần với exponential backoff</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_8_1" id="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_2" class="field-input input-radio submitted" value="choice_2" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_8_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_2" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_8_1">
                <div>
                    
            <div>Retry 3 lần với exponential backoff (1s, 2s, 4s...)</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_8_1" id="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_8_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_8_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_8_1">
                <div>
                    
            <div>Không retry, phải config manually</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_8_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_8_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_7"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_7">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>React Query có cơ chế retry mạnh mẽ. Mặc định, nó sẽ thử lại các query thất bại 3 lần, với thời gian chờ tăng dần theo cấp số nhân (exponential backoff) để tránh làm quá tải server.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 8" role="group"><div>
        <p><b>Câu 8:</b> Trong <b>parallel queries</b>:</p>
        <pre style="background-color: #1e1e1e; color: #d4d4d4; padding: 1em; border-radius: 5px; font-family: monospace;"><span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">usersQuery</span> = <span style="color: #dcdcaa;">useQuery</span>({ <span style="color: #9cdcfe;">queryKey</span>: [<span style="color: #ce9178;">'users'</span>], <span style="color: #9cdcfe;">queryFn</span>: <span style="color: #4ec9b0;">fetchUsers</span> });
<span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">postsQuery</span> = <span style="color: #dcdcaa;">useQuery</span>({ <span style="color: #9cdcfe;">queryKey</span>: [<span style="color: #ce9178;">'posts'</span>], <span style="color: #9cdcfe;">queryFn</span>: <span style="color: #4ec9b0;">fetchPosts</span> });
</pre>
        <p>Nếu <code>fetchUsers</code> fail, điều gì xảy ra với <code>postsQuery</code>?</p>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_9_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_9_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_9_1" id="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_9_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_9_1">
                <div>
                    
            <div><code>postsQuery</code> cũng bị fail theo</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_9_1" id="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_1" class="field-input input-radio" value="choice_1"><label id="ab9685dd969946ad880101e3c36dcc8c_9_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_1" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_9_1">
                <div>
                    
            <div><code>postsQuery</code> bị cancel ngay lập tức</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_9_1" id="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_2" class="field-input input-radio submitted" value="choice_2" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_9_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_2" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_9_1">
                <div>
                    
            <div><code>postsQuery</code> không bị ảnh hưởng, tiếp tục chạy độc lập</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_9_1" id="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_9_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_9_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_9_1">
                <div>
                    
            <div>Cả hai queries phải retry cùng lúc</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_9_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_9_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_8"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_8">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>Các queries trong React Query là hoàn toàn độc lập với nhau. Trạng thái (thành công, thất bại, đang chạy) của một query không ảnh hưởng đến vòng đời của các query khác.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 9" role="group"><div>
        <p><b>Câu 9:</b> Khi implement query cancellation với <b><code>AbortSignal</code></b>:</p>
        <pre style="background-color: #1e1e1e; color: #d4d4d4; padding: 1em; border-radius: 5px; font-family: monospace;"><span style="color: #569cd6;">async</span> <span style="color: #569cd6;">function</span> <span style="color: #4ec9b0;">fetchUsers</span>({ <span style="color: #9cdcfe;">signal</span> }) {
  <span style="color: #569cd6;">const</span> { <span style="color: #9cdcfe;">data</span> } = <span style="color: #c586c0;">await</span> <span style="color: #9cdcfe;">apiClient</span>.<span style="color: #dcdcaa;">get</span>(<span style="color: #ce9178;">'/users'</span>, { <span style="color: #9cdcfe;">signal</span> });
  <span style="color: #c586c0;">return</span> <span style="color: #9cdcfe;">data</span>;
}
</pre>
        <p>Nếu <code>apiClient</code> KHÔNG hỗ trợ <code>signal</code>, điều gì xảy ra khi query bị cancel?</p>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_10_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_10_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_10_1" id="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_10_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_10_1">
                <div>
                    
            <div>HTTP request bị dừng hoàn toàn ở network layer</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_10_1" id="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_10_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_10_1">
                <div>
                    
            <div>React Query chỉ ignore response, nhưng request vẫn tiếp tục consume bandwidth</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_10_1" id="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_10_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_10_1">
                <div>
                    
            <div>Application sẽ throw error</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_10_1" id="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_10_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_10_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_10_1">
                <div>
                    
            <div>Query sẽ retry lại từ đầu</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_10_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_10_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_9"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_9">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>React Query chỉ có thể yêu cầu hủy một request. Việc hủy thực sự ở tầng network phụ thuộc vào thư viện fetching (như axios, fetch). Nếu thư viện không hỗ trợ hoặc không được cấu hình để sử dụng <code>AbortSignal</code>, request sẽ vẫn được gửi đi và hoàn thành, nhưng React Query sẽ bỏ qua kết quả trả về.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 10" role="group"><div>
        <p><b>Câu 10:</b> Cho config sau:</p>
        <pre style="background-color: #1e1e1e; color: #d4d4d4; padding: 1em; border-radius: 5px; font-family: monospace;"><span style="color: #dcdcaa;">useQuery</span>({
  <span style="color: #9cdcfe;">queryKey</span>: [<span style="color: #ce9178;">'products'</span>],
  <span style="color: #9cdcfe;">queryFn</span>: <span style="color: #4ec9b0;">fetchProducts</span>,
  <span style="color: #9cdcfe;">refetchInterval</span>: <span style="color: #b5cea8;">30000</span>,
  <span style="color: #9cdcfe;">refetchIntervalInBackground</span>: <span style="color: #c586c0;">false</span>
});
</pre>
        <p>Khi user chuyển sang tab khác, query có tiếp tục refetch mỗi 30 giây không?</p>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_11_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_11_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_11_1" id="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_11_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_11_1">
                <div>
                    
            <div>Có, vì <code>refetchInterval</code> được set</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_11_1" id="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_11_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_11_1">
                <div>
                    
            <div>Không, vì <code>refetchIntervalInBackground = false</code></div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_11_1" id="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_11_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_11_1">
                <div>
                    
            <div>Có, nhưng chỉ khi tab visible lại</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_11_1" id="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_11_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_11_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_11_1">
                <div>
                    
            <div>Không, vì browser throttle background tabs</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_11_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_11_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_10"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_10">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>Tùy chọn <code>refetchIntervalInBackground: false</code> được dùng để tối ưu hóa, nó chỉ thị cho React Query tạm dừng việc refetch theo chu kỳ khi cửa sổ hoặc tab của ứng dụng không được focus.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 11" role="group"><div>
        <p><b>Câu 11:</b> Trong lifecycle của <b><code>useMutation</code></b>, thứ tự thực thi đúng là gì?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_12_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_12_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_12_1" id="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_12_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_12_1">
                <div>
                    
            <div>mutationFn → onSuccess → onError → onSettled</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_12_1" id="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_12_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_12_1">
                <div>
                    
            <div>onMutate → mutationFn → onSuccess/onError → onSettled</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_12_1" id="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_12_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_12_1">
                <div>
                    
            <div>mutationFn → onMutate → onSuccess → onError</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_12_1" id="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_12_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_12_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_12_1">
                <div>
                    
            <div>onSuccess → mutationFn → onSettled → onMutate</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_12_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_12_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_11"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_11">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>Vòng đời của mutation bắt đầu với <code>onMutate</code> (chạy trước khi mutation thực sự diễn ra, hữu ích cho optimistic updates), tiếp theo là <code>mutationFn</code> (hàm bất đồng bộ thực hiện request). Tùy vào kết quả, <code>onSuccess</code> hoặc <code>onError</code> sẽ được gọi. Cuối cùng, <code>onSettled</code> luôn được gọi, bất kể thành công hay thất bại.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 12" role="group"><div>
        <p><b>Câu 12:</b> Khác biệt giữa <b><code>mutate</code></b> và <b><code>mutateAsync</code></b> là gì?</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_13_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_13_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_13_1" id="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_13_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_13_1">
                <div>
                    
            <div><code>mutateAsync</code> nhanh hơn về performance</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_13_1" id="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_1" class="field-input input-radio" value="choice_1"><label id="ab9685dd969946ad880101e3c36dcc8c_13_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_1" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_13_1">
                <div>
                    
            <div><code>mutate</code> return promise, <code>mutateAsync</code> không return gì</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_13_1" id="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_2" class="field-input input-radio submitted" value="choice_2" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_13_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_2" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_13_1">
                <div>
                    
            <div><code>mutate</code> là fire-and-forget, <code>mutateAsync</code> return promise để dùng với async/await</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_13_1" id="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_13_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_13_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_13_1">
                <div>
                    
            <div><code>mutateAsync</code> tự động invalidate queries, <code>mutate</code> thì không</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_13_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_13_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_12"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_12">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p><code>mutate</code> được dùng khi bạn chỉ cần trigger mutation mà không cần chờ kết quả của nó trong luồng thực thi hiện tại. <code>mutateAsync</code> trả về một Promise, cho phép bạn sử dụng <code>await</code> hoặc <code>.then()</code> để xử lý logic phức tạp hơn sau khi mutation hoàn thành.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 13" role="group"><div>
        <p><b>Câu 13:</b> Khi nào React Query tự động trigger <b>refetch</b>? (Chọn đáp án <b>KHÔNG</b> đúng)</p>
        <br>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_14_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_14_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_14_1" id="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_14_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_14_1">
                <div>
                    
            <div>Component mount lần đầu</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_14_1" id="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_1" class="field-input input-radio" value="choice_1"><label id="ab9685dd969946ad880101e3c36dcc8c_14_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_1" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_14_1">
                <div>
                    
            <div>Window focus (user quay lại tab)</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_14_1" id="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_14_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_14_1">
                <div>
                    
            <div>Network reconnect</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_14_1" id="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_3" class="field-input input-radio submitted" value="choice_3" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_14_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_14_1_choice_3" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_14_1">
                <div>
                    
            <div>Khi component re-render bất kỳ lý do gì</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_14_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_14_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_13"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_13">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>React Query refetch dữ liệu một cách thông minh dựa trên các sự kiện như mount, window focus, và network reconnect. Tuy nhiên, nó không tự động refetch chỉ vì component cha re-render. Việc re-render của component không đồng nghĩa với việc dữ liệu trên server đã thay đổi.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 14" role="group"><div>
        <p><b>Câu 14:</b> Xét tình huống <b>race condition</b> sau:</p>
        <pre style="background-color: #1e1e1e; color: #d4d4d4; padding: 1em; border-radius: 5px; font-family: monospace;"><span style="color: #569cd6;">const</span> [<span style="color: #9cdcfe;">userId</span>, <span style="color: #4ec9b0;">setUserId</span>] = <span style="color: #dcdcaa;">useState</span>(<span style="color: #b5cea8;">1</span>);
<span style="color: #569cd6;">const</span> { <span style="color: #9cdcfe;">data</span> } = <span style="color: #dcdcaa;">useQuery</span>({
  <span style="color: #9cdcfe;">queryKey</span>: [<span style="color: #ce9178;">'user'</span>, <span style="color: #9cdcfe;">userId</span>],
  <span style="color: #9cdcfe;">queryFn</span>: ({ <span style="color: #9cdcfe;">signal</span> }) =&gt; <span style="color: #dcdcaa;">fetchUser</span>(<span style="color: #9cdcfe;">userId</span>, { <span style="color: #9cdcfe;">signal</span> }),
});
<span style="color: #6a9955;">// User clicks rapidly: userId changes 1 → 2 → 3</span>
</pre>
        <p>Request 1 (userId=1) chậm 500ms, request 2 (userId=2) chậm 100ms, request 3 (userId=3) chậm 200ms. Giả sử <code>fetchUser</code> đã implement đúng <code>AbortSignal</code> để hủy request khi <code>signal.aborted = true</code>. Data cuối cùng hiển thị là user nào và tại sao?</p>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_15_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_15_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_15_1" id="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_15_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_15_1">
                <div>
                    
            <div>User 3 - vì request cuối cùng được trigger</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_15_1" id="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_1" class="field-input input-radio" value="choice_1"><label id="ab9685dd969946ad880101e3c36dcc8c_15_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_1" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_15_1">
                <div>
                    
            <div>User 2 - vì request complete nhanh nhất</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_15_1" id="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_15_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_15_1">
                <div>
                    
            <div>User 1 - vì request đầu tiên có priority</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_15_1" id="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_3" class="field-input input-radio submitted" value="choice_3" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_15_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_15_1_choice_3" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_15_1">
                <div>
                    
            <div>User 3 - vì React Query gửi abort signal đến request 1 và 2 khi queryKey thay đổi, và fetchUser đã implement đúng cơ chế hủy</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_15_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_15_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_14"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_14">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>Khi <code>queryKey</code> thay đổi (từ <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;" role="application" aria-label="left-bracket collapsed prime separated list of length 2 right-bracket" haslabel="true"><svg xmlns:xlink="http://www.w3.org/1999/xlink" class="mjx-svg-math" data-semantic-complexity="7" width="9.336ex" height="2.757ex" viewBox="0 -840.1 4019.7 1187.2" role="img" focusable="false" style="vertical-align: -0.806ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g class="mjx-svg-mrow"><g class="mjx-svg-mstyle" data-semantic-complexity="7"><g class="mjx-svg-mrow"><g class="mjx-svg-mrow" data-semantic-type="fenced" data-semantic-role="leftright" data-semantic-id="15" data-semantic-children="14" data-semantic-content="0,9" data-semantic-complexity="7"><g class="mjx-svg-mo" data-semantic-type="fence" data-semantic-role="open" data-semantic-id="0" data-semantic-parent="15" data-semantic-operator="fenced" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-5B"></use></g><g cursor="pointer" id="MJX-Collapse-2" class="mjx-svg-maction" data-semantic-complexity="2" transform="translate(278,0)"><rect width="3462.6666666666665" height="891" y="-196" fill="none" pointer-events="all"></rect><g class="mjx-svg-mrow" data-semantic-type="punctuated" data-semantic-role="sequence" data-semantic-id="14" data-semantic-children="1,13,6,7,8" data-semantic-content="1,6,7" data-semantic-parent="15" data-semantic-complexity="23"><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="prime" data-semantic-id="1" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJSSI-27"></use></g><g class="mjx-svg-mrow" data-semantic-type="infixop" data-semantic-role="implicit" data-semantic-id="13" data-semantic-children="2,3,4,5" data-semantic-content="10,11,12" data-semantic-parent="14" data-semantic-complexity="14" transform="translate(278,0)"><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="2" data-semantic-parent="13" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-75"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="10" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="3" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(572,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-73"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="11" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="4" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(1042,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-65"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="12" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="5" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(1508,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-72"></use></g></g><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="prime" data-semantic-id="6" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1" transform="translate(2238,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJSSI-27"></use></g><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="comma" data-semantic-id="7" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1" transform="translate(2517,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-2C"></use></g><g class="mjx-svg-mn" data-semantic-type="number" data-semantic-role="integer" data-semantic-font="normal" data-semantic-id="8" data-semantic-parent="14" data-semantic-complexity="1" transform="translate(2962,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-31"></use></g></g></g><g class="mjx-svg-mo" data-semantic-type="fence" data-semantic-role="close" data-semantic-id="9" data-semantic-parent="15" data-semantic-operator="fenced" data-semantic-complexity="1" transform="translate(3741,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-5D"></use></g></g></g></g></g></g></svg></span><script type="math/asciimath" id="MathJax-Element-3">['user', 1]</script> sang <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;" role="application" aria-label="left-bracket collapsed prime separated list of length 2 right-bracket" haslabel="true"><svg xmlns:xlink="http://www.w3.org/1999/xlink" class="mjx-svg-math" data-semantic-complexity="7" width="9.336ex" height="2.757ex" viewBox="0 -840.1 4019.7 1187.2" role="img" focusable="false" style="vertical-align: -0.806ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g class="mjx-svg-mrow"><g class="mjx-svg-mstyle" data-semantic-complexity="7"><g class="mjx-svg-mrow"><g class="mjx-svg-mrow" data-semantic-type="fenced" data-semantic-role="leftright" data-semantic-id="15" data-semantic-children="14" data-semantic-content="0,9" data-semantic-complexity="7"><g class="mjx-svg-mo" data-semantic-type="fence" data-semantic-role="open" data-semantic-id="0" data-semantic-parent="15" data-semantic-operator="fenced" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-5B"></use></g><g cursor="pointer" id="MJX-Collapse-4" class="mjx-svg-maction" data-semantic-complexity="2" transform="translate(278,0)"><rect width="3462.6666666666665" height="891" y="-196" fill="none" pointer-events="all"></rect><g class="mjx-svg-mrow" data-semantic-type="punctuated" data-semantic-role="sequence" data-semantic-id="14" data-semantic-children="1,13,6,7,8" data-semantic-content="1,6,7" data-semantic-parent="15" data-semantic-complexity="23"><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="prime" data-semantic-id="1" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJSSI-27"></use></g><g class="mjx-svg-mrow" data-semantic-type="infixop" data-semantic-role="implicit" data-semantic-id="13" data-semantic-children="2,3,4,5" data-semantic-content="10,11,12" data-semantic-parent="14" data-semantic-complexity="14" transform="translate(278,0)"><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="2" data-semantic-parent="13" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-75"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="10" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="3" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(572,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-73"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="11" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="4" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(1042,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-65"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="12" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="5" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(1508,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-72"></use></g></g><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="prime" data-semantic-id="6" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1" transform="translate(2238,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJSSI-27"></use></g><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="comma" data-semantic-id="7" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1" transform="translate(2517,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-2C"></use></g><g class="mjx-svg-mn" data-semantic-type="number" data-semantic-role="integer" data-semantic-font="normal" data-semantic-id="8" data-semantic-parent="14" data-semantic-complexity="1" transform="translate(2962,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-32"></use></g></g></g><g class="mjx-svg-mo" data-semantic-type="fence" data-semantic-role="close" data-semantic-id="9" data-semantic-parent="15" data-semantic-operator="fenced" data-semantic-complexity="1" transform="translate(3741,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-5D"></use></g></g></g></g></g></g></svg></span><script type="math/asciimath" id="MathJax-Element-4">['user', 2]</script>), React Query sẽ tự động hủy request đang chạy cho key cũ. Tương tự khi key đổi sang <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;" role="application" aria-label="left-bracket collapsed prime separated list of length 2 right-bracket" haslabel="true"><svg xmlns:xlink="http://www.w3.org/1999/xlink" class="mjx-svg-math" data-semantic-complexity="7" width="9.336ex" height="2.757ex" viewBox="0 -840.1 4019.7 1187.2" role="img" focusable="false" style="vertical-align: -0.806ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g class="mjx-svg-mrow"><g class="mjx-svg-mstyle" data-semantic-complexity="7"><g class="mjx-svg-mrow"><g class="mjx-svg-mrow" data-semantic-type="fenced" data-semantic-role="leftright" data-semantic-id="15" data-semantic-children="14" data-semantic-content="0,9" data-semantic-complexity="7"><g class="mjx-svg-mo" data-semantic-type="fence" data-semantic-role="open" data-semantic-id="0" data-semantic-parent="15" data-semantic-operator="fenced" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-5B"></use></g><g cursor="pointer" id="MJX-Collapse-6" class="mjx-svg-maction" data-semantic-complexity="2" transform="translate(278,0)"><rect width="3462.6666666666665" height="891" y="-196" fill="none" pointer-events="all"></rect><g class="mjx-svg-mrow" data-semantic-type="punctuated" data-semantic-role="sequence" data-semantic-id="14" data-semantic-children="1,13,6,7,8" data-semantic-content="1,6,7" data-semantic-parent="15" data-semantic-complexity="23"><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="prime" data-semantic-id="1" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJSSI-27"></use></g><g class="mjx-svg-mrow" data-semantic-type="infixop" data-semantic-role="implicit" data-semantic-id="13" data-semantic-children="2,3,4,5" data-semantic-content="10,11,12" data-semantic-parent="14" data-semantic-complexity="14" transform="translate(278,0)"><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="2" data-semantic-parent="13" data-semantic-complexity="1"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-75"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="10" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="3" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(572,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-73"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="11" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="4" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(1042,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-65"></use></g><g class="mjx-svg-mo" data-semantic-type="operator" data-semantic-role="multiplication" data-semantic-id="12" data-semantic-parent="13" data-semantic-added="true" data-semantic-operator="infixop,⁢" data-semantic-complexity="1"></g><g class="mjx-svg-mi" data-semantic-type="identifier" data-semantic-role="latinletter" data-semantic-font="italic" data-semantic-id="5" data-semantic-parent="13" data-semantic-complexity="1" transform="translate(1508,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMATHI-72"></use></g></g><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="prime" data-semantic-id="6" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1" transform="translate(2238,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJSSI-27"></use></g><g class="mjx-svg-mo" data-semantic-type="punctuation" data-semantic-role="comma" data-semantic-id="7" data-semantic-parent="14" data-semantic-operator="punctuated" data-semantic-complexity="1" transform="translate(2517,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-2C"></use></g><g class="mjx-svg-mn" data-semantic-type="number" data-semantic-role="integer" data-semantic-font="normal" data-semantic-id="8" data-semantic-parent="14" data-semantic-complexity="1" transform="translate(2962,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-33"></use></g></g></g><g class="mjx-svg-mo" data-semantic-type="fence" data-semantic-role="close" data-semantic-id="9" data-semantic-parent="15" data-semantic-operator="fenced" data-semantic-complexity="1" transform="translate(3741,0)"><use xlink:href="https://learning.sydexa.com/xblock/block-v1:Sydexa+RCT_301+2025Q3+type@vertical+block@54adbbe8fd0440c8a6e5015505e326a5?exam_access=&amp;format=Quiz&amp;jumpToId&amp;preview=0&amp;recheck_access=1&amp;show_bookmark=0&amp;show_title=0&amp;view=student_view#MJMAIN-5D"></use></g></g></g></g></g></g></svg></span><script type="math/asciimath" id="MathJax-Element-5">['user', 3]</script>. Do <code>fetchUser</code> đã implment <code>AbortSignal</code>, các request cho user 1 và 2 sẽ bị hủy bỏ, đảm bảo rằng chỉ có kết quả từ request cuối cùng (cho user 3) được sử dụng, tránh được race condition.</p>
        </div>
    </solution>
</span>
</div></div>
<div class="wrapper-problem-response" tabindex="-1" aria-label="Question 15" role="group"><div>
        <p><b>Câu 15:</b> Implement <b>optimistic update</b> với rollback:</p>
        <pre style="background-color: #1e1e1e; color: #d4d4d4; padding: 1em; border-radius: 5px; font-family: monospace;"><span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">mutation</span> = <span style="color: #dcdcaa;">useMutation</span>({
  <span style="color: #9cdcfe;">mutationFn</span>: <span style="color: #4ec9b0;">updateTodo</span>,
  <span style="color: #9cdcfe;">onMutate</span>: <span style="color: #569cd6;">async</span> (<span style="color: #9cdcfe;">newTodo</span>) =&gt; {
    <span style="color: #c586c0;">await</span> <span style="color: #9cdcfe;">queryClient</span>.<span style="color: #dcdcaa;">cancelQueries</span>([<span style="color: #ce9178;">'todos'</span>]);
    <span style="color: #569cd6;">const</span> <span style="color: #9cdcfe;">previous</span> = <span style="color: #9cdcfe;">queryClient</span>.<span style="color: #dcdcaa;">getQueryData</span>([<span style="color: #ce9178;">'todos'</span>]);
    <span style="color: #9cdcfe;">queryClient</span>.<span style="color: #dcdcaa;">setQueryData</span>([<span style="color: #ce9178;">'todos'</span>], <span style="color: #9cdcfe;">old</span> =&gt; [...<span style="color: #9cdcfe;">old</span>, <span style="color: #9cdcfe;">newTodo</span>]);
    <span style="color: #c586c0;">return</span> { <span style="color: #9cdcfe;">previous</span> };
  },
  <span style="color: #9cdcfe;">onError</span>: (<span style="color: #9cdcfe;">err</span>, <span style="color: #9cdcfe;">newTodo</span>, <span style="color: #9cdcfe;">context</span>) =&gt; {
    <span style="color: #9cdcfe;">queryClient</span>.<span style="color: #dcdcaa;">setQueryData</span>([<span style="color: #ce9178;">'todos'</span>], <span style="color: #9cdcfe;">context</span>.<span style="color: #9cdcfe;">previous</span>);
  },
  <span style="color: #9cdcfe;">onSettled</span>: () =&gt; {
    <span style="color: #9cdcfe;">queryClient</span>.<span style="color: #dcdcaa;">invalidateQueries</span>([<span style="color: #ce9178;">'todos'</span>]);
  }
});
</pre>
        <p>Tại sao phải gọi <code>cancelQueries</code> trong <code>onMutate</code> trước khi update optimistically?</p>
    </div>
    <div class="choicegroup capa_inputtype" id="inputtype_ab9685dd969946ad880101e3c36dcc8c_16_1">
    <fieldset aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_16_1">
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_16_1" id="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_0" class="field-input input-radio" value="choice_0"><label id="ab9685dd969946ad880101e3c36dcc8c_16_1-choice_0-label" for="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_0" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_16_1">
                <div>
                    
            <div>Để clear cache cũ và force refetch data mới</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_16_1" id="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_1" class="field-input input-radio submitted" value="choice_1" checked="true"><label id="ab9685dd969946ad880101e3c36dcc8c_16_1-choice_1-label" for="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_1" class="response-label field-label label-inline choicegroup_correct" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_16_1">
                <div>
                    
            <div>Để tránh background refetch ghi đè optimistic update với stale data</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_16_1" id="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_2" class="field-input input-radio" value="choice_2"><label id="ab9685dd969946ad880101e3c36dcc8c_16_1-choice_2-label" for="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_2" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_16_1">
                <div>
                    
            <div>Để improve performance bằng cách stop các requests không cần thiết</div>
        
                </div>
            </label>
          </div>
          
          <div class="field">
            <input type="radio" name="input_ab9685dd969946ad880101e3c36dcc8c_16_1" id="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_3" class="field-input input-radio" value="choice_3"><label id="ab9685dd969946ad880101e3c36dcc8c_16_1-choice_3-label" for="input_ab9685dd969946ad880101e3c36dcc8c_16_1_choice_3" class="response-label field-label label-inline" aria-describedby="status_ab9685dd969946ad880101e3c36dcc8c_16_1">
                <div>
                    
            <div>Để trigger onError callback khi mutation fails</div>
        
                </div>
            </label>
          </div>
        <span id="answer_ab9685dd969946ad880101e3c36dcc8c_16_1"></span>
    </fieldset>
    <div class="indicator-container">
          

<span class="status correct" id="status_ab9685dd969946ad880101e3c36dcc8c_16_1" data-tooltip="This answer is correct.">
  <span class="sr">correct</span><span class="status-icon" aria-hidden="true"></span>
</span>

    </div>
</div><div class="solution-span">
 <span id="solution_ab9685dd969946ad880101e3c36dcc8c_solution_15"><solution id="ab9685dd969946ad880101e3c36dcc8c_solution_15">
        <div class="detailed-solution">
            <h4>Giải thích</h4>
            <p>Việc gọi <code>cancelQueries</code> là một biện pháp an toàn. Nó ngăn chặn bất kỳ quá trình refetch ngầm nào (ví dụ do focus lại cửa sổ) có thể xảy ra. Nếu một refetch như vậy diễn ra, nó có thể lấy dữ liệu cũ từ server và ghi đè lên trạng thái giao diện lạc quan mà bạn vừa cập nhật, gây ra trải nghiệm người dùng không mong muốn.</p>
        </div>
    </solution>
</span>
</div></div>
</div>
  <div class="action">
    <input type="hidden" name="problem_id" value="Blank problem">

    <div class="problem-action-buttons-wrapper">
      <span class="problem-action-button-wrapper">
          <button type="button" class="show problem-action-btn btn-link btn-small" aria-describedby="ab9685dd969946ad880101e3c36dcc8c-problem-title" disabled="disabled"><span class="show-label">Show answer</span></button>
      </span>
    </div>
    <div class="submit-attempt-container">
      <button type="button" class="submit btn-brand" data-submitting="Submitting" data-value="Submit" data-should-enable-submit-button="False" aria-describedby="submission_feedback_ab9685dd969946ad880101e3c36dcc8c" disabled="">
          <span class="submit-label">Submit</span>
      </button>

      <div class="submission-feedback " id="submission_feedback_ab9685dd969946ad880101e3c36dcc8c">
          You have used 2 of 2 attempts
        <span class="sr">Some problems have options such as save, reset, hints, or show answer. These options follow the Submit button.</span>
      </div>
    </div>
  </div>
    


<div class="notification warning notification-gentle-alert
      is-hidden" tabindex="-1" style="display: none;">
    <span class="icon fa fa-exclamation-circle" aria-hidden="true"></span>
    <span class="notification-message" aria-describedby="ab9685dd969946ad880101e3c36dcc8c-problem-title">
    </span>
    <div class="notification-btn-wrapper">
        <button type="button" class="btn btn-default btn-small notification-btn review-btn sr">Review</button>
    </div>
</div>

    


<div class="notification warning notification-save
      is-hidden" tabindex="-1" style="display: none;">
    <span class="icon fa fa-save" aria-hidden="true"></span>
    <span class="notification-message" aria-describedby="ab9685dd969946ad880101e3c36dcc8c-problem-title">None
    </span>
    <div class="notification-btn-wrapper">
        <button type="button" class="btn btn-default btn-small notification-btn review-btn sr">Review</button>
    </div>
</div>

    
    


<div class="notification general notification-show-answer
      is-hidden" tabindex="-1" style="display: block;">
    <span class="icon fa fa-info-circle" aria-hidden="true"></span>
    <span class="notification-message" aria-describedby="ab9685dd969946ad880101e3c36dcc8c-problem-title">Answers are displayed within the problem
    </span>
    <div class="notification-btn-wrapper">
        <button type="button" class="btn btn-default btn-small notification-btn review-btn sr">Review</button>
    </div>
</div>

</div>